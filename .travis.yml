language: node_js
node_js:
- '0.10'
before_install:
- git submodule update --init --recursive
before_script:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- npm install -g -q protractor supervisor gulp
script:
- webdriver-manager update
- webdriver-manager start &
- npm start &
- sleep 5
- npm test
deploy:
  provider: heroku
  api_key:
    secure: TPXx8ahn3KHUsh3g2ES/B6Uf0FUyOV3pBIqxdql5pNz25ddmpCeIlQzYl2qJ+Jlb5H8bpsdM3m+uC40ZJVWBVRc7290vEP2dDXbdvq5T0I2QiO+FCmzjj86EzrWBKgsVc/SPem6UgS5O/xUMSN03j7I60Ki60urdy6lnYJehoHU=
  app: drewmiller-net
  on:
    repo: itsdrewmiller/drewmiller.net
