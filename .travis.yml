language: node_js
node_js:
- '0.10'
before_install:
- git submodule update --init --recursive
before_script:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- npm install -g -q protractor supervisor gulp
script:
- webdriver-manager update
- npm start &
- sleep 5
- npm test
deploy:
  provider: heroku
  api_key:
    secure: HIfn2fG3wMzY9dfarwXSKVGW0y+duhLEgVwT3LQlA13JvmjsdEGI0nf2tjeJdTdtXDK9BhMFHZxB4kZTlXhfwOn1m65At4IjAWduKlxqTt30LC9QzzpEZ6Sa6DSao/7YGedfi/TZAIypYhksEmP1Y4XZXPKITsWx/yOeKUgRXU4=
  app: drewmiller-net
  on:
    repo: itsdrewmiller/drewmiller.net
